# sf-third-party-package


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

### Install sf_third_party_package in Development mode

``` sh
# make sure sf_third_party_package package is installed in development mode
$ pip install -e .

# make changes under nbs/ directory
# ...

# compile to have changes apply to sf_third_party_package
$ nbdev_prepare
```

## Usage

### Installation

Install latest from the GitHub \[repository\]\[repo\]:

``` sh
$ pip install git+https://github.com/Jeremy-Demlow/sf-third-party-package.git
```

## How to Step Up a Third Party Package

## Initial Setup

``` bash
conda create --name manage_package --override-channels -c https://repo.anaconda.com/pkgs/snowflake python=3.11 --y; conda activate manage_package;
pip install -r requirements.txt
```

Fill extra-requirements.txt with the packages you want to install

``` bash
langchain-anthropic
langgraph
```

For example then run

> Note: Please make sure you either add the default you want as well as
> the warehouse that you want to be using as well and make sure you set
> up snowflake cli.

``` bash

bash download_and_stage_packages.sh;
```

The result of this will be the packages sitting in PYTHON_PACKAGE stage
ready to be imported through snowflake.

## Notebook Path

### Environment.yml

In the previous step we created a file at sf_nbs/enivronment.yml file
looking like this

``` yaml
name: app_environment
channels:
  - snowflake
dependencies:
  - anyio=*
  - distro=*
  - httpx=*
  - jiter=*
  - pydantic=*
  - sniffio=*
  - typing-extensions=*
  - defusedxml=*
  - langsmith=*
  - tenacity=*
  - jsonpatch=*
  - pyyaml=*
  - packaging=*
  - langchain-core=*
  - orjson=*
```

The reason for this is that these the the needed libraries to support
this package. This might not be a perfect process, but this will get you
90% of the way there by the end of this tutorial you will be able to use
langchain-anthropic and langgraph in snowflake notebooks or snowflake in
general. This first iteration will show you how to do this in notebooks.

### Create Git Integration and Push Notebook To Snowflake

    bash create_notebooks_git_to_sf.sh \
      --repository sf-third-party-package \
      --secret_name my_pacakage_secret \
      --api_integration_name my_package_integration \
      --git_username $git_username \
      --git_password $git_password \
      --github_prefix "https://github.com/Jeremy-Demlow"

### Create Notebook

Now the notebook URL will appear and you can click this and open it in
the Snowsight UI. You can now run the notebook and it will be able to
use the packages that you have installed. There is one more step and
that is getting the pointed stages .zip files into the notebook to
install.

## Snowflake UDFs

TODO: Write instructions and how to for this

> NOTE: There is a Using third-party packages from PyPi PrPr that
> snowflake will be releasing shortly for UDFs that will make this much
> easier for UDFS and stored procedures.

## Streamlit in Snowflake

TODO: Write instructions and how to for this
